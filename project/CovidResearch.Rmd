---
title: "CovidResearch"
output:
  html_document: default
  pdf_document: default
---
## Install and load Libraries
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
#install.packages('plyr')
#install.packages("readr")
#install.packages("gglplot2")
library(readr)
library(ggplot2)
options(scipen=999)
```
## Import Data
```{r}
#Covid-19 Info
cov_general_data<- read_csv2("../datasets/COVID-19_aantallen_gemeente_cumulatief.csv")
cov_ic_admissions <- read_csv2("../datasets/COVID-19_ic_opnames.csv")
cov_hospital_admissions <- read_csv2("../datasets/COVID-19_ziekenhuisopnames.csv")
cov_admissions_ranked_by_age <- read_csv2("../datasets/COVID-19_ziekenhuis_ic_opnames_per_leeftijdsgroep.csv")
cov_home70 <- read_csv2("../datasets/COVID-19_thuiswonend_70plus.csv")
cov_performed_tests <- read_csv2("../datasets/COVID-19_uitgevoerde_testen.csv")
#Other info
res_count_per_province_nl <- read_csv2("../datasets/Bevolkings_aantallen_per_provincie.csv")
```
## General Research
### Covid IC Admissions
```{r}
cov_ic <- ggplot(data = cov_ic_admissions, mapping = aes(x = Date_of_statistics, y = IC_admission)) 
cov_ic_plot <- cov_ic + geom_col() + geom_smooth()
cov_ic_plot
```

### Covid Hosptial Admissions
```{r}
cov_hosp <- ggplot(data = cov_hospital_admissions, mapping = aes(x = Date_of_statistics, y = Hospital_admission))
cov_hosp_plot <- cov_hosp + geom_col()
cov_hosp_plot
```
### Covid IC Admissions by Age
```{r}
cov_ic_age <- ggplot(data = cov_admissions_ranked_by_age, mapping = aes(x = Age_group, y = IC_admission))
cov_ic_age_plot <- cov_ic_age + geom_bar(stat="identity", fill = "steelblue")
cov_ic_age_plot
```
### Covid Hospital Admissions by Age
```{r}
cov_hosp_age <- ggplot(data = cov_admissions_ranked_by_age, mapping = aes(x = Age_group, y = Hospital_admission))
cov_hosp_age_plot <- cov_hosp_age + geom_bar(stat="identity", fill = "steelblue")
cov_hosp_age_plot
```
### Total Positive Covid Test Reports Per Province Over Time
```{r}
  cov_general_data_mod <- cov_general_data
  cov_general_data_mod$Province[which(cov_general_data_mod$Province == "FryslÃ¢n")] <- "Friesland"
  cov_pos_tests_per_province <- ggplot(data = cov_general_data_mod, aes(Date_of_report, Total_reported, color = Province))
  cov_pos_tests_per_province_plot <- cov_pos_tests_per_province + geom_col()
  cov_pos_tests_per_province_plot
```
### 2021 Resident Count Per Province 
```{r}
  res_count_per_province_nl
```
### Age group at or above 70 total deceased reported
```{r}
  cov_home70_sub <- subset(cov_home70, Security_region != "Onbekend")
  cov_70 <- ggplot(data = cov_home70_sub, mapping = aes(Security_region, Total_deceased_reported))
  cov_70_plot <- cov_70 + geom_bar(stat="identity", fill = "steelblue") + coord_flip()
  cov_70_plot
```
## Regression Jamie
## Regression Glen
### Performed tests with positive overlap
```{r}
  cov_pt_sub <- subset(cov_performed_tests, Security_region_name != "Onbekend")
  cov_pt <- ggplot(cov_pt_sub, aes(Security_region_name))
  cov_pt <- cov_pt + geom_bar(aes(y = Tested_with_result), stat="identity", fill="steelblue") + coord_flip()
  cov_pt <- cov_pt + geom_bar(aes(y = Tested_positive), stat="identity", fill="red") + coord_flip()
  cov_pt
```