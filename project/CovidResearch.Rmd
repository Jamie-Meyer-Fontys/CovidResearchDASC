---
title: "CovidResearch"
output:
  html_document: default
  pdf_document: default
---
## Install and load Libraries
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
#install.packages('dplyr')
library(readr)
library(dplyr)
library(ggplot2)
library(lubridate)
options(scipen=999)
```
## We used the datasets
## Import Data
```{r}
#Covid-19 Info
cov_general_data<- read_csv2("../datasets/COVID-19_aantallen_gemeente_cumulatief.csv")
cov_hospital_data <- read_csv2("../datasets/COVID-19_ziekenhuisopnames.csv")
#Other info
res_count_per_province_nl <- read_csv2("../datasets/Bevolkings_aantallen_per_provincie.csv")
```

## Population per province compared to the positive tests, hospital admissions and deaths per province

```{r}
## lets first inspect the datasets
cov_general_data
cov_hospital_data
res_count_per_province_nl
```

## Let's explain the relevant variables and why/how we are going to use them
## TODO:
## Glenn: cov_general_data cleaning
## Jamie: cov_hosp_data cleaning

```{r}
## The first dataset (cov_general_data) has to be cleaned up, because it has missing values and only the latest report data needs to be filtered out.
## Let's first filter the data based on the latest publication we have
## TODO: Here filter the cov_general_data by the date of 10th of March, 2022
## create a new variable named 'cov_general_data2' which represents the filtered dataset that shows the date of report of 10th of March, 2022
cov_general_data$Date_of_report <- as.Date(cov_general_data$Date_of_report, format="%m/%d/%y")
cov_general_data2 <- filter(cov_general_data, Date_of_report == "2022-3-10")
cov_general_data2
```

```{r}
## Let's filter out the null values from cov_general_data
## TODO: Here filter out the null values from cov_general_data2
## The only null values that have been found after the filtering are present in the last circa 20 rows for the columns Municipality_code/name and Province, now we need to remove them.

cov_general_data2 <- filter(cov_general_data2,!is.na(Municipality_code))
cov_general_data2 <- filter(cov_general_data2,!is.na(Municipality_name))
cov_general_data2 <- filter(cov_general_data2,!is.na(Province))
cov_general_data2
```

```{r}
## A double entry of province has been detected in the cov_general_data which needs to be combined
## TODO: Here combine the values 'Friesland' and 'Frysl창n'
cov_general_data2 <- filter(cov_general_data2, Province == "Friesland") ## returns 0 objects
cov_general_data2 <- filter(cov_general_data2, Province == "Frysl창n") ## returns 18 objects
cov_general_data2
```

```{r}
## Remove variables that we are not going to use from cov_general_data
## TODO: Here remove Municipality_name, Municipality_code from cov_general_data
cov_general_data2$Municipality_name <- NULL
cov_general_data2$Municipality_code <- NULL
cov_general_data2
```

```{r}
## Rename 'Frysl창n' to 'Friesland' in cov_hospital_data
## TODO: Here rename 'Frysl창n' to 'Friesland'

```

```{r}
## Combine security regions into their respective provinces to better fit the resident count data for later
## TODO: Here combine 'Limburg', 'Gelderland', 'Friesland'
## TODO: Here combine 'Noord-Brabant', 'Utrecht', 'Zuid-Holland'
## TODO: Here combine 'Zeeland', 'Overijssel', 'Groningen'
## TODO: Here combine 'Noord-Holland', 'Flevoland', 'Drenthe'

```

```{r}
## Filter null values out of the dataset cov_hospital_data
## TODO: Here filter out the null values

```

```{r}
## Remove variables that we are not going to use from cov_hospital_data
## TODO: Here remove 'Municipality_code', 'Municipality_name', 'Security_region_code' from cov_hospital_data

```
